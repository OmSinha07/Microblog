{% extends "layout.html" %}
{% block content %}
<h2>My Profile</h2>

<div class="card p-3">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <p><strong>Username:</strong> {{ user.username }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
    </div>
    <div>
      <a href="{{ url_for('main.edit_profile') }}" class="btn btn-outline-primary">Edit Profile</a>
    </div>
  </div>
</div>

{% if user.image_file %}
  <div class="mt-3">
    <img src="{{ url_for('static', filename='profile_pics/' + user.image_file) }}"
         alt="Profile Picture" class="img-thumbnail" width="150">
  </div>
{% endif %}

<hr>
<h3>My Posts</h3>
{% if posts %}
  {% for post in posts %}
    <div class="card mt-2 p-3">
      <p>{{ post.content }}</p>
      <small class="text-muted">{{ post.timestamp.strftime('%Y-%m-%d %H:%M') }}</small>
    </div>
  {% endfor %}
{% else %}
  <p>You haven't posted anything yet.</p>
{% endif %}
{% endblock %}
